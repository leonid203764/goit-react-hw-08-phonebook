"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[867],{2867:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var r=t(9434),a=function(e){return e.contacts.items},o=function(e){return e.contacts.loading},s=t(2791),i=t(1650),c=t(9439),l=t(1295),d=t(2701),x=t(4585),p=t(311),u=t(7806),h=t(4363),m=t(6069),b=t(4224),f=t(8656),j=t(6856),g=t(9126),v=t(184),y=function(){var e=(0,l.p)(),n=(0,s.useState)(""),t=(0,c.Z)(n,2),a=t[0],o=t[1],y=(0,s.useState)(""),w=(0,c.Z)(y,2),C=w[0],S=w[1],Z=(0,r.I0)(),z=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":o(r);break;case"number":S(r);break;default:throw new Error("There isn't such option")}};return(0,v.jsx)("form",{onSubmit:function(n){n.preventDefault(),Z((0,i.uK)({name:a,number:C})).unwrap().then((function(){e({description:"Contact added",position:"top",status:"success"})})).catch((function(){e({description:"Something went wrong...Try reloading the page",position:"top",status:"error"})})),o(""),S("")},children:(0,v.jsxs)(d.NI,{width:"350px",children:[(0,v.jsx)(x.l,{htmlFor:"name",children:"Name"}),(0,v.jsxs)(p.B,{children:[(0,v.jsx)(u.Z,{pointerEvents:"none",children:(0,v.jsx)(h.J,{as:g.HHm,color:"grey"})}),(0,v.jsx)(m.I,{id:"name",type:"text",name:"name",value:a,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:z,required:!0})]}),(0,v.jsx)(x.l,{htmlFor:"number",mt:"15px",children:"Number"}),(0,v.jsxs)(p.B,{children:[(0,v.jsx)(u.Z,{pointerEvents:"none",children:(0,v.jsx)(f.q,{color:"gray"})}),(0,v.jsx)(m.I,{id:"number",type:"tel",name:"number",value:C,placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:z,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,v.jsxs)(b.z,{type:"submit",colorScheme:"blue",mt:"20px",borderRadius:"6px",children:["Add ",(0,v.jsx)(h.J,{as:j.NcC,width:"24px",height:"24px",pl:"6px"})]})]})})},w=t(6916),C=function(e){return e.filter},S=(0,w.P1)([C,a],(function(e,n){var t=e.trim().toLowerCase();return n.filter((function(e){return e.name.trim().toLowerCase().includes(t)}))})),Z=t(9229),z=t(3541),E=t(114),k=t(1243),F=t(4087),A=t(7449),I=t(7885),B=t(4942),N=t(1413),D=t(1820),T=t(3380),q=t(8789),H=t(7693),J=t(1461),R=t(7521),W=function(e){var n=e.isOpen,t=e.handleClose,a=e.id,o=e.name,j=e.number,y=(0,l.p)(),w={name:o,number:j},C=(0,s.useState)((0,N.Z)({},w)),S=(0,c.Z)(C,2),Z=S[0],z=S[1],E=(0,r.I0)(),k=(0,s.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;z((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,B.Z)({},t,r))}))}),[z]);return(0,v.jsxs)(D.u_,{isOpen:n,onClose:t,children:[(0,v.jsx)(T.Z,{}),(0,v.jsxs)(q.h,{children:[(0,v.jsx)(H.x,{textAlign:"center",fontSize:"22px",fontWeight:"500",children:"Edit contact"}),(0,v.jsx)(J.o,{}),(0,v.jsx)(R.f,{pb:6,children:(0,v.jsx)("form",{onSubmit:function(e){e.preventDefault(),E((0,i.Tk)({id:a,state:Z})).unwrap().then((function(){return y({description:"Contact edited",position:"top",status:"success"})})).catch((function(){return y({description:"Something went wrong...Try reloading the page",position:"top",status:"error"})})),t()},children:(0,v.jsxs)(d.NI,{children:[(0,v.jsx)(x.l,{htmlFor:"name",children:"Name"}),(0,v.jsxs)(p.B,{children:[(0,v.jsx)(u.Z,{pointerEvents:"none",children:(0,v.jsx)(h.J,{as:g.HHm,color:"grey"})}),(0,v.jsx)(m.I,{id:"name",type:"text",name:"name",value:Z.name,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:k})]}),(0,v.jsx)(x.l,{htmlFor:"number",mt:"15px",children:"Number"}),(0,v.jsxs)(p.B,{children:[(0,v.jsx)(u.Z,{pointerEvents:"none",children:(0,v.jsx)(f.q,{color:"gray"})}),(0,v.jsx)(m.I,{id:"number",type:"tel",name:"number",value:Z.number,placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:k})]}),(0,v.jsx)(b.z,{type:"submit",colorScheme:"blue",mr:3,mt:"20px",children:"Save"}),(0,v.jsx)(b.z,{onClick:t,mt:"20px",children:"Cancel"})]})})})]})]})},_=function(e){var n=e.id,t=e.name,a=e.number,o=(0,l.p)(),d=(0,s.useState)(!1),x=(0,c.Z)(d,2),p=x[0],u=x[1],h=(0,r.I0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(z.HC,{display:"flex",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 2px 1px rgba(0, 0, 0, 0.2);",p:"6px 10px",borderRadius:"6px",bg:"#F4F4F4",alignItems:"center",children:[(0,v.jsxs)(F.xu,{display:"block",children:[(0,v.jsx)(Z.x,{fontSize:"20px",fontWeight:"500",color:"#2a2a2a",children:t}),(0,v.jsx)(Z.x,{fontSize:"18px",color:"#5F5F5F",children:a})]}),(0,v.jsx)(A.u,{label:"Edit contact",children:(0,v.jsx)(I.h,{ml:"auto",colorScheme:"green","aria-label":"Edit contact",icon:(0,v.jsx)(E.d,{}),onClick:function(){return u(!0)}})}),(0,v.jsx)(A.u,{label:"Delete contact",children:(0,v.jsx)(I.h,{ml:"6px",colorScheme:"red","aria-label":"Delete contact",icon:(0,v.jsx)(k.p,{}),type:"button",onClick:function(){h((0,i.GK)(n)).unwrap().then((function(){return o({description:"Contact deleted",position:"top",status:"success"})})).catch((function(){return o({description:"Something went wrong...Try reloading the page",position:"top",status:"error"})}))}})})]},n),p&&(0,v.jsx)(W,{isOpen:p,handleClose:function(){return u(!1)},id:n,name:t,number:a})]})},O=function(){var e=(0,r.v9)(S);return(0,v.jsxs)(v.Fragment,{children:[0===e.length&&(0,v.jsx)(Z.x,{color:"red.400",mt:"20px",ml:"20px",children:"There is no such contact"}),(0,v.jsx)(z.aV,{mt:"20px",display:"flex",flexDirection:"column",gap:"5px",children:e.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,v.jsx)(_,{id:n,name:t,number:r},n)}))})]})},P=t(5653),K=t(745),L=function(){var e=(0,r.v9)(C),n=(0,r.I0)();return(0,v.jsx)(d.NI,{width:"350px",m:"0 auto",children:(0,v.jsxs)(p.B,{children:[(0,v.jsx)(u.x,{pointerEvents:"none",children:(0,v.jsx)(K.W,{color:"gray"})}),(0,v.jsx)(m.I,{type:"text",placeholder:"Find contacts by name",value:e,onChange:function(e){return n((0,P.T)(e.target.value))}})]})})},M=t(6564),$=function(){var e=(0,r.v9)(a),n=(0,r.v9)(o),t=(0,r.I0)();(0,s.useEffect)((function(){t((0,i.yF)())}),[t]);var c=Boolean(e.length);return(0,v.jsxs)(F.xu,{display:"flex",justifyContent:"center",gap:"100px",m:"0 auto",p:"60px 0 60px 60px",children:[(0,v.jsxs)(F.xu,{width:"400px",height:"320px",display:"flex",flexDirection:"column",alignItems:"center",p:"6",borderRadius:"6px",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 2px 1px rgba(0, 0, 0, 0.2);",border:"1px solid #EBEBEB",children:[(0,v.jsx)(Z.x,{fontSize:"24px",fontWeight:"500",mb:"20px",children:"Add contacts"}),(0,v.jsx)(y,{})]}),n&&(0,v.jsx)(M.Z,{color:"#007D34",cssOverride:{position:"absolute",display:"block"},size:100}),(0,v.jsxs)(F.xu,{width:"500px",display:"flex",flexDirection:"column",children:[(0,v.jsx)(Z.x,{p:"6px",width:"220px",borderRadius:"6px",textAlign:"center",fontSize:"22",m:"0 auto",mb:"10px",fontWeight:"500",color:"#fff",bg:"blue.400",children:"Contact list"}),c&&(0,v.jsx)(L,{}),c&&(0,v.jsx)(O,{}),!c&&(0,v.jsxs)(Z.x,{color:"#fff",bg:"red.400",p:"12px",width:"400px",textAlign:"center",borderRadius:"6px",m:"0 auto",children:["Your phonebook is empty. ",(0,v.jsx)("br",{})," Please add contact."]})]})]})}}}]);
//# sourceMappingURL=867.4af6eb5e.chunk.js.map